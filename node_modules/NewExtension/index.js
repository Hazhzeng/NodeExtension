var func = require('C:/Users/hazeng/Projects/Github/azure-functions-nodejs-worker/dist/src/public/Interfaces');

class NewExtension extends func.FuncExtension {
    constructor() {
        super();
        this.before = 0.0;
    }

    beforeInvocation(context) {
        this.before = process.memoryUsage().heapUsed / 1024.0
    }

    afterInvocation(context) {
        const used = process.memoryUsage().heapUsed / 1024.0 - this.before
        console.log('MEMORY USAGE FOR THE FUNCTION : ' + used + ' KB')
    }
}

module.exports = {
    NewExtension
}